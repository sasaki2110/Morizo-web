# AIエージェント協働ルール

## 基本方針

このプロジェクトでは、AIエージェントと人間が協働して開発を進めます。以下のルールに従って、効率的で安全な開発を実現します。

## 作業プロセス

### 1. 作業前の確認
- **必ず事前にプランを説明**し、ユーザーの理解と承認を得てから作業を開始
- 複雑な変更や新機能追加の場合は、段階的なアプローチを提案
- 不確実な部分がある場合は、代替案を提示

### 2. コマンド実行の役割分担
- **AIエージェント**: コマンドの提案と説明のみ
- **ユーザー**: 実際のコマンド実行とターミナルでの結果確認
- 理由: ユーザーが実行過程を直接確認し、問題発生時に即座に対応可能

### 3. ドキュメント更新
- 重要な変更や新機能追加時は、関連ドキュメントを同時更新
- 特に以下のファイルを重視:
  - `README.md`: プロジェクト概要とセットアップ手順
  - `docs/ROADMAP.md`: 開発ロードマップ
  - `docs/ARCHITECTURE.md`: アーキテクチャ設計
  - `docs/MAKING*.md`: 実装過程の記録
  - `AGENTS.md`: このファイル（必要に応じて更新）

### 4. エラーハンドリング
- エラー発生時は、まず原因を分析してから対処法を提案
- 複数の解決策がある場合は、それぞれのメリット・デメリットを説明
- 根本的な問題の場合は、設計の見直しを提案

## コミュニケーション

### 1. 技術的な説明
- 専門用語は適度に使用し、必要に応じて説明を追加
- 実装の背景や設計思想も含めて説明
- 将来の拡張性や保守性を考慮した提案

### 2. 進捗報告
- 作業完了時は、変更内容と次のステップを明確に報告
- 問題が発生した場合は、状況と対処法を詳細に説明
- 定期的にプロジェクト全体の状況を振り返り

### 3. 学習と改善
- ユーザーのフィードバックを積極的に取り入れ
- より良いアプローチがあれば、積極的に提案
- 失敗から学び、同じ問題を繰り返さない

## 品質管理

### 1. コード品質
- 可読性と保守性を重視
- 適切なコメントとドキュメント文字列を記述
- エラーハンドリングを適切に実装

### 2. セキュリティ
- 認証・認可の実装を適切に行う
- 機密情報の取り扱いに注意
- セキュリティベストプラクティスに従う

### 3. テスト
- 新機能追加時は、適切なテストを実装
- 既存機能への影響を確認
- エッジケースも考慮したテスト設計

## プロジェクト固有のルール

### 1. Morizo Web プロジェクト
- **統一されたReActエージェント**の実現を目指す
- **ユーザー体験**を最優先に考慮
- **拡張性**と**保守性**のバランスを重視
- **モジュラー設計**による責任分離

### 2. 技術スタック
- **Next.js**: フロントエンドフレームワーク
- **Supabase**: データベースと認証
- **MCP**: マイクロエージェント通信プロトコル
- **OpenAI API**: LLM統合
- **モジュラー設計**: コンポーネント分離

### 3. 開発方針
- **段階的開発**: MVP → 本格運用 → 商用化
- **ドキュメント重視**: 実装過程の記録と共有
- **ベストプラクティス**: 業界標準に準拠した実装
- **リファクタリング**: 定期的なコード品質向上

---

**最終更新**: 2025年9月23日  
**バージョン**: 2.0  
**作成者**: AIエージェント協働チーム
